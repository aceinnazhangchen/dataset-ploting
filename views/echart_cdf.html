<!DOCTYPE html>
<html style="height: 100%">
   <head>
       <meta charset="utf-8">
   </head>
   <body style="height: 100%; margin: 0">     
    <div id="table" style="width:2%;float:left;">
    <table border="1" style="margin-left: 8px;margin-top: 80px">
        <tr>
            <td>RMS</td>
            <td>{{table_data.RMS}}</td>
        </tr>
        <tr>
            <td>Fixed</td>
            <td>{{table_data.fixedRate}}%</td>
        </tr>
        <tr>
            <td>68%</td>
            <td>{{table_data.R68}}</td>
        </tr>
        <tr>
            <td>95%</td>
            <td>{{table_data.R95}}</td>
        </tr>
        <tr>
            <td>>2m</td>
            <td>{{table_data.gross_error}}%</td>
        </tr>        
      </table> 
    </div>
    <div id="main" style="height: 100%;width:98%;float:left;"></div>

        <script type="text/javascript" src="/static/js/echarts-en.min.js"></script>
        <script type="text/javascript">
            var myChart = echarts.init(document.getElementById('main'));
                var data1 = '{{xAxis}}';
                var data2 = '{{series}}';
                var xAxis = data1.split(',');
                var series = data2.split(',');
                // 指定图表的配置项和数据
                var option = {
                    title: {
                        text: '{{filename}}',
                        subtext: 'version: {{version}}',
                        left: 'center'
                    },
                    tooltip: {
                        trigger: 'axis',
                        axisPointer: {
                            type: 'cross',
                            animation: false,
                            label: {
                                backgroundColor: '#ccc',
                                borderColor: '#aaa',
                                borderWidth: 1,
                                shadowBlur: 0,
                                shadowOffsetX: 0,
                                shadowOffsetY: 0,
                                textStyle: {
                                    color: '#222'
                                }
                            }
                        },
                        formatter: function (params) {
                            return params[0].name + 'cm <br />' + parseFloat(params[0].value).toFixed(2) + "%";
                        }
                    },
                    toolbox: {
                        feature: {
                            saveAsImage: {}
                        }
                    },
                    xAxis: {
                        name:"error(cm)",
                        boundaryGap: false,
                        data:xAxis,
                        splitLine:{show: false},//去除网格线
                        type : 'category',
                        splitArea : {show : true}//保留网格区域
                    },
                    yAxis: {
                        name:"percent(%)",
                        splitLine:{show: false},//去除网格线
                        type : 'value',
                        splitArea : {show : true}//保留网格区域
                    },
                    series: [{
                        name: 'percent',
                        type: 'line',
                        showSymbol: false,
                        data: series
                    }]
                };

                // 使用刚指定的配置项和数据显示图表。
                myChart.setOption(option);
                window.onresize = function () {
                    myChart.resize();
                }
        </script>
   </body>
</html>